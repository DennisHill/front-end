> 男儿何不带吴钩，收取关山五十州。 ——唐 李贺 《南园十三首·其五》

自己做`vue`的项目练手，遇到一个问题。

每当打开一个菜单时，就生成一个`tab`页。各个`tab`之间可以切换，并且，切换时，需要保持原来的状态。

##### 初始思路
考虑用`vuex`记录对应页面的所有的数据，手动维护这些数据。想了一下，太复杂了，于是翻阅官网文档，找到`keep-alive`组件

##### 进一步思路
先看一下官网的解释
> `<keep-alive>`包裹动态组件时，会缓存不活动的组件实例，而不是销毁它们。和`<transition>` 相似，`<keep-alive>` 是一个抽象组件：它自身不会渲染一个 DOM 元素，也不会出现在父组件链中。

使用`keep-alive`包裹`router-view`，这样，每一个路由都会被缓存下来，于是组件就能保持原来的状态了。
```
<keep-alive>
    <router-view />
</keep-alive>
```
但是，仅仅这样的话，会有两个问题。
1. 如何动态移除缓存？
2. 相同模板切换时，其状态如何保持？

先说第一个问题，[这篇文章](https://segmentfault.com/a/1190000015845117#articleHeader4)中提出的方法，是通过全局注册`beforeRouteLeave`钩子，在离开路由时，删除对应`vue`实例的缓存。但是总觉的不够优雅。

然后，就发现了`include`和`exclude`属性(手动感谢@淼哥)，于是针对第一个问题的解决方案就形成了


***在vuex中维护一个需要缓存的模板的数组，当关闭对应tab页面时，从这个数组中删除对应的模板，keep-alive对应的缓存也被清除了***

对于第二个问题，就暴力了，干脆就不缓存了

***相同组件(比如不同详情页面)就不再用keep-alive缓存了，直接把页面的数据放在vuex中，关闭详情页时，从vuex中删除对应的数据。相同组件切换时，使用beforeRouterUpdate或者mounted钩子，从vuex中读相应的数据***

以上就是我解决问题，遇到`keep-alive`的坑时的办法。

由于本人才疏学浅，错误之处，您看着提，我看着改。
